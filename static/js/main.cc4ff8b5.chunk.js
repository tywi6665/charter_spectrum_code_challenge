(this.webpackJsonpcharter_spectrum_code_challenge_v2=this.webpackJsonpcharter_spectrum_code_challenge_v2||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),u=(a(12),a(1)),s=function(e){var t=e.children;return r.a.createElement("div",{className:"container"},t)},o=a(3),i=function(e){var t=e.data;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.city),r.a.createElement("td",null,t.state),r.a.createElement("td",null,t.telephone),r.a.createElement("td",null,t.genre.split(",").join(", ")))},m=function(e){var t=e.data;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"State"),r.a.createElement("th",null,"Phone Number"),r.a.createElement("th",null,"Genre"))),r.a.createElement("tbody",null,t?t.map((function(e,t){return r.a.createElement(i,{key:t,data:e})})):r.a.createElement("tr",null,r.a.createElement("td",{className:"message"},"Loading Restaurants"))))},h=function(e){var t=e.data,a=e.currentPage,l=e.setCurrentPage,c=Object(n.useState)([]),s=Object(u.a)(c,2),i=s[0],h=s[1],f=Object(n.useState)(null),E=Object(u.a)(f,2),g=E[0],d=E[1];Object(n.useEffect)((function(){for(var e=[],n=1;n<=Math.ceil(t.length/a.resultsPerPage);n++)e.push(n);h(e)}),[t,a]),Object(n.useEffect)((function(){var e=a.currentPage*a.resultsPerPage,n=e-a.resultsPerPage;d(t.slice(n,e))}),[t,a]);var v=function(e){e.target.parentElement.querySelectorAll(".active").forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active"),l(Object(o.a)(Object(o.a)({},a),{},{currentPage:Number(e.target.id)}))};return r.a.createElement("div",null,r.a.createElement(m,{data:g}),r.a.createElement("ul",{className:"pagination_ul"},i.map((function(e){return r.a.createElement("li",{className:1===e?"active":"",key:e,id:e,onClick:v},e)}))))},f=function(e){var t=e.genres,a=e.filterByGenre,n=e.setFilterByGenre,l=e.states,c=e.filterByState,u=e.setFilterByState;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",null,"Genre : "),r.a.createElement("select",{defaultValue:a,onChange:function(e){"All"===e.target.value?n(""):n(e.target.value)}},r.a.createElement("option",{value:"All"},"All"),t.length>0?t.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})):r.a.createElement("option",{value:"-Loading-"},"-Loading Genres-")),r.a.createElement("label",null,"State : "),r.a.createElement("select",{defaultValue:c,onChange:function(e){"All"===e.target.value?u(""):u(e.target.value)}},r.a.createElement("option",{value:"All"},"All"),l.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))))},E=function(e){var t=e.setSearchValue,a=e.searchValue,n=e.genres,l=e.filterGenre,c=e.setFilterByGenre,u=e.states,s=e.filterByState,o=e.setFilterByState;return r.a.createElement("div",{className:"search"},r.a.createElement("h3",null,"Search Bar"),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"searchBar"},"General Search: "),r.a.createElement("input",{placeholder:"Search",State:"text",value:a,onChange:function(e){""===e.target.value?t(""):t(e.target.value)},name:"searchBar"}),r.a.createElement(f,{genres:n,filterGenre:l,setFilterByGenre:c,states:u,filterByState:s,setFilterByState:o}),r.a.createElement("button",{onClick:function(e){t(""),c(""),o("")}},"Clear")))},g=a(2),d=a.n(g),v=a(6),b={fetchRestaurants:function(){var e=Object(v.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:{Authorization:"Api-Key q3MNxtfep8Gt"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};a(14);var p=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)([]),c=Object(u.a)(l,2),o=c[0],i=c[1],m=Object(n.useState)({currentPage:1,resultsPerPage:10}),f=Object(u.a)(m,2),g=f[0],d=f[1],v=Object(n.useState)([]),p=Object(u.a)(v,2),y=p[0],S=p[1],O=Object(n.useState)(""),j=Object(u.a)(O,2),N=j[0],A=j[1],P=Object(n.useState)(""),B=Object(u.a)(P,2),G=B[0],C=B[1],M=Object(n.useState)(""),w=Object(u.a)(M,2),k=w[0],F=w[1],R=Object(n.useState)(""),V=Object(u.a)(R,2),x=V[0],I=V[1];Object(n.useEffect)((function(){b.fetchRestaurants().then((function(e){e.sort((function(e,t){return e.name>t.name?1:-1})),_(e),i(e),a(!0)}))}),[]),Object(n.useEffect)((function(){var e=N&&new RegExp("".concat(N),"gi"),t=k&&new RegExp("".concat(k),"gi"),a=o.filter((function(a){return(!e||e.test(a.name)+e.test(a.city)+e.test(a.genre))&&(!t||t.test(a.genre))&&(!x||a.state===x)}));S(a)}),[N,o,k,x]);var _=function(e){for(var t=[],a=0;a<e.length;a++)for(var n=e[a].genre.split(","),r=0;r<n.length;r++)t.includes(n[r])||t.push(n[r]);t.sort((function(e,t){return e>t?1:-1})),C(t)};return r.a.createElement(s,null,r.a.createElement("div",{className:"header"},r.a.createElement(E,{searchValue:N,setSearchValue:A,genres:G,filterByGenre:k,setFilterByGenre:F,states:["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"],filterByState:x,setFilterByState:I}),r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Welcome to the Restaurant Database!"),r.a.createElement("p",null,"Please take some time to explore the carefully curated restaurants that we have for you.")),r.a.createElement("div",{className:"credits"},r.a.createElement("h2",null,"Made by tywi6665"),r.a.createElement("p",null,"Check out some of my other",r.a.createElement("br",null),"projects on ",r.a.createElement("a",{href:"https://github.com/tywi6665",target:"_blank"},"Github")))),y.length>0?r.a.createElement(h,{data:y,currentPage:g,setCurrentPage:d}):r.a.createElement("p",{className:"message"},"Sorry, No Results :("))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.cc4ff8b5.chunk.js.map